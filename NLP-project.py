import streamlit as st
import random
import warnings
from transformers import pipeline
from deep_translator import GoogleTranslator

warnings.filterwarnings("ignore")
st.set_page_config(page_title="Urdu Poetry", page_icon="📜", layout="centered")

# --- CSS STYLING (Same as yours) ---
st.markdown("""
    <style>
    .stApp { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); }
    .main-card { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); padding: 30px; border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15); }
    .poetry-box { background: white; padding: 25px; border-radius: 15px; border-right: 8px solid #6c5ce7; margin: 20px 0; box-shadow: 2px 5px 15px rgba(0,0,0,0.05); }
    .shair-text { text-align: center; font-size: 1.6em; color: #2d3436; line-height: 1.8; font-family: 'Noto Nastaliq Urdu', serif; }
    .poet-name { text-align: left; font-size: 1.2em; font-weight: bold; color: #6c5ce7; margin-top: 15px; }
    .stButton>button { background: linear-gradient(to right, #6c5ce7, #a29bfe); color: white; border: none; border-radius: 25px; transition: 0.3s; width: 100%; }
    </style>
    """, unsafe_allow_html=True)

# --- SESSION STATE INITIALIZATION ---
if 'history' not in st.session_state: st.session_state.history = [] 
if 'saved_poetry' not in st.session_state: st.session_state.saved_poetry = [] 
if 'last_shair' not in st.session_state: st.session_state.last_shair = None 

@st.cache_resource
def load_models():
    emo_pipe = pipeline("text-classification", model="bhadresh-savani/distilbert-base-uncased-emotion")
    trans = GoogleTranslator(source='auto', target='en')
    return emo_pipe, trans

emo_model, translator = load_models()

# --- POETRY DATABASE (Same as yours) ---
poetry_db = {
  "Joy": [
        {"id": 1, "shair": "ہزاروں خواہشیں ایسی کہ ہر خواہش پہ دم نکلے\nبہت نکلے مرے ارمان لیکن پھر بھی کم نکلے", "poet": "Ghalib"},
        {"id": 2, "shair": "پھول کھلے ہیں گلشن گلشن\nلیکن تیری یاد جیسا کوئی نہیں", "poet": "Faraz"},
        {"id": 3, "shair": "ستاروں سے آگے جہاں اور بھی ہیں\nابھی عشق کے امتحان اور بھی ہیں", "poet": "Iqbal"},
        {"id": 4, "shair": "خودی کو کر بلند اتنا کہ ہر تقدیر سے پہلے\nخدا بندے سے خود پوچھے بتا تیری رضا کیا ہے", "poet": "Iqbal"},
        {"id": 5, "shair": "مدت ہوئی ہے یار کو مہماں کیے ہوئے\nجوشِ قدح سے بزم چراغاں کیے ہوئے", "poet": "Ghalib"},
        {"id": 6, "shair": "دل سے جو بات نکلتی ہے اثر رکھتی ہے\nپر نہیں طاقتِ پرواز مگر رکھتی ہے", "poet": "Iqbal"},
        {"id": 7, "shair": "لب پہ آتی ہے دعا بن کے تمنا میری\nزندگی شمع کی صورت ہو خدایا میری", "poet": "Iqbal"},
        {"id": 8, "shair": "صبح ہوتی ہے شام ہوتی ہے\nعمر یوں ہی تمام ہوتی ہے", "poet": "Ameer Minai"},
        {"id": 9, "shair": "خوشی کی بات ہے کہ ہم تیرے غم سے نکلے\nبہت نکلے میرے ارمان لیکن پھر بھی کم نکلے", "poet": "Ghalib"},
        {"id": 10, "shair": "پھر نظر میں پھول مہکے دل میں پھر شمعیں جلیں\nپھر تصور میں کسی کی زلف کے سائے ڈھلے", "poet": "Faiz"},
        {"id": 11, "shair": "تیری پزیرائی سے گلشن میں بہار آئی ہے\nورنہ ہر شاخ پہ بوجھ تھی یہ تنہائی", "poet": "Faraz"},
        {"id": 12, "shair": "یہ کائنات ابھی ناتمام ہے شاید\nکہ آرہی ہے دمادم صدائے کن فیکون", "poet": "Iqbal"},
        {"id": 13, "shair": "لطف ہے کیا جینے کا جو نہ ہو مستی کوئی\nدل کی محفل میں سجی ہو نہ جو بستی کوئی", "poet": "Faiz"},
        {"id": 14, "shair": "گلوں میں رنگ بھرے بادِ نو بہار چلے\nچلے بھی آؤ کہ گلشن کا کاروبار چلے", "poet": "Faiz"},
        {"id": 15, "shair": "مٹائے جاؤ نہ ارمان جینے کے لیے\nبہت بہاریں آئیں گی پینے کے لیے", "poet": "Ghalib"},
        {"id": 16, "shair": "تیرے آنے سے دل کی کلی کھل گئی\nایک مدت سے جو بچھڑی تھی وہ پری مل گئی", "poet": "Nasir Kazmi"},
        {"id": 17, "shair": "بہار آئی تو جیسے ہر کلی مسکرانے لگی\nتمہاری یاد آ کر پھر ہمیں ستانے لگی", "poet": "Faraz"},
        {"id": 18, "shair": "ہر تمنا پہ دل نے صدقے کیا\nخواب وہ تھے کہ جن پہ ناز کیا", "poet": "John"},
        {"id": 19, "shair": "وہ مسکرا کے جو دیکھیں تو بہار آجائے\nدلِ ویراں میں پھر سے قرار آجائے", "poet": "Faiz"},
        {"id": 20, "shair": "تیری محفل میں ہم آئے ہیں خوشی کے مارے\nجیسے آئے ہوں کسی پیاسے کے پاس دھارے", "poet": "Ghalib"},
        {"id": 21, "shair": "یہ دل جو دھڑکتا ہے تیری یاد میں اکثر\nجیسے کوئی بچہ ہنستا ہو اپنے خواب میں اکثر", "poet": "Parveen"},
        {"id": 22, "shair": "خوشی کا دور ہے یارو چلو رقص کریں\nغمِ دنیا کو بھلا کر ذرا رقص کریں", "poet": "Faraz"},
        {"id": 23, "shair": "آج کی رات تو مہتاب ہے جیسے تیرا چہرہ\nہر طرف روشنی ہے جیسے تیرا ہی پہرا", "poet": "Nasir Kazmi"},
        {"id": 24, "shair": "عشق کی منزلِ اول میں جو سرور ملا\nبندہِ خاک کو عرش کا نور ملا", "poet": "Iqbal"},
        {"id": 25, "shair": "تیرا ہنسنا بھی کیا قیامت ہے\nجیسے صحرا میں بہار کی علامت ہے", "poet": "John"},
        {"id": 26, "shair": "دن نکلتا ہے تو تیرا نام لب پہ آتا ہے\nجیسے سورج اندھیرے کو کھا جاتا ہے", "poet": "Ghalib"},
        {"id": 27, "shair": "زندگی زلفِ پریشاں کی طرح پھیلی ہے\nہر طرف تیری خوشبو کی لہر پھیلی ہے", "poet": "Faraz"},
        {"id": 28, "shair": "دلِ بے تاب کو فرصت جو ملی ہے آج\nبرسوں بعد کوئی کلی کھلی ہے آج", "poet": "Faiz"},
        {"id": 29, "shair": "مستِ مے ہوں مجھے ہوش کی ضرورت کیا ہے\nتیرے در پہ ہوں مجھے اور کسی کی حاجت کیا ہے", "poet": "Iqbal"},
        {"id": 30, "shair": "خوشبو کی طرح پھیل رہا ہے ترا احساس\nجیسے کوئی پھول کھلا ہو مرے پاس", "poet": "Parveen"},
        {"id": 31, "shair": "آج بادل بھی جھوم کر برسے\nتیرے ملنے کو ہم تو کیا زمین بھی ترسے", "poet": "Faraz"},
        {"id": 32, "shair": "تجھ کو پا کر تو جیسے کائنات مل گئی\nاندھیری رات کو روشن صبح مل گئی", "poet": "Faiz"},
        {"id": 33, "shair": "عید کا چاند ہے یا ترا چہرہ ہے\nہر طرف خوشیوں کا ہی پہرا ہے", "poet": "Ghalib"},
        {"id": 34, "shair": "رقصِ جاں ہے کہ کوئی موجِ صبا آئی ہے\nآج پھر تیری گلیوں سے ہوا آئی ہے", "poet": "Nasir Kazmi"},
        {"id": 35, "shair": "مسکرانا تو تیرا شیوہ ہے\nجیسے ہر شاخ پہ کوئی میوہ ہے", "poet": "John"},
        {"id": 36, "shair": "محفل میں رنگ بھر دیا تیرے جمال نے\nحیرت میں ڈال دیا ہر ایک کے خیال نے", "poet": "Iqbal"},
        {"id": 37, "shair": "بہاروں کا موسم ہے اور تیرا ساتھ ہے\nاس سے بڑی اور کیا کائنات ہے", "poet": "Faraz"},
        {"id": 38, "shair": "تیری خوشبو سے مہک اٹھا ہے میرا آنگن\nجیسے ہو گیا ہو فضاؤں میں کوئی سنورن", "poet": "Parveen"},
        {"id": 39, "shair": "آج پھر چاند نے دیکھا ہے تمہیں حیرت سے\nجیسے مانگ رہا ہو روشنی تمہاری صورت سے", "poet": "Ghalib"},
        {"id": 40, "shair": "خوشیاں ہی خوشیاں ہوں تیرے نصیب میں\nجیسے پھول کھلتے ہیں باغِ قریب میں", "poet": "Faiz"},
        {"id": 41, "shair": "زندگی رقص ہے اور تم اس کا تال ہو\nمیرے ہر ایک سوال کا تم ہی جواب ہو", "poet": "Iqbal"},
        {"id": 42, "shair": "تیری ہنسی میں وہ جادو ہے پیارے\nکہ غم بھی خوشی بن جائیں سارے", "poet": "Nasir Kazmi"},
        {"id": 43, "shair": "محبت کے باغ میں بہار آئی ہے\nتیری صورت سے نئی روشنی آئی ہے", "poet": "Faraz"},
        {"id": 44, "shair": "آج دل میں ہے جو ترنگ وہی ہے زندگی\nتیرے ہی دم سے ہے یہ سب بندگی", "poet": "John"},
        {"id": 45, "shair": "گلستاں میں ہر طرف چہکار ہے آج\nتیرے آنے کا ہی تو انتظار ہے آج", "poet": "Faiz"},
        {"id": 46, "shair": "چاندنی رات میں تیرا ساتھ ہو بس\nاور کچھ نہ ہو بس تیری بات ہو بس", "poet": "Ghalib"},
        {"id": 47, "shair": "خوشی کا سماں ہے چلو مسکرائیں\nدنیا کے سارے دکھوں کو بھلائیں", "poet": "Iqbal"},
        {"id": 48, "shair": "تیرا ملنا تو جیسے معجزہ ہو گیا\nویران دل میں پھر اجالا ہو گیا", "poet": "Faraz"},
        {"id": 49, "shair": "ہنستی ہوئی آنکھوں میں خواب ہیں تمہارے\nجیسے آسمان پہ چمکتے ہوں تارے", "poet": "Parveen"},
        {"id": 50, "shair": "آج کی صبح تو اک نیا پیغام لائی ہے\nتیرے پیار کی نئی مہک لائی ہے", "poet": "Nasir Kazmi"}
    ],
    "sadness": [
        {"id": 51, "shair": "اپنے اندر ہنس لیتا ہوں\nمیں اتنا کب رو سکتا ہوں", "poet": "John"},
        {"id": 52, "shair": "وہ تو خوشبو ہے ہواؤں میں بکھر جائے گا\nمسئلہ تو پھول کا ہے پھول کدھر جائے گا", "poet": "Parveen"},
        {"id": 53, "shair": "دل ہی تو ہے نہ سنگ و خشت درد سے بھر نہ آئے کیوں\nروئیں گے ہم ہزار بار کوئی ہمیں ستائے کیوں", "poet": "Ghalib"},
        {"id": 54, "shair": "اب کے ہم بچھڑے تو شاید کبھی خوابوں میں ملیں\nجس طرح سوکھے ہوئے پھول کتابوں میں ملیں", "poet": "Faraz"},
        {"id": 55, "shair": "عمر گزر گئی پر یہ دکھ نہیں گیا\nکہ ہم نے جسے چاہا وہ کیوں نہیں ملا", "poet": "John"},
        {"id": 56, "shair": "ہم کہ ٹھہرے اجنبی اتنی مداراتوں کے بعد\nپھر بنیں گے آشنا کتنی ملاقاتوں کے بعد", "poet": "Faiz"},
        {"id": 57, "shair": "رنج سے خوگر ہوا انساں تو مٹ جاتا ہے رنج\nمشکلیں مجھ پر پڑیں اتنی کہ آساں ہو گئیں", "poet": "Ghalib"},
        {"id": 58, "shair": "دکھ فسانہ نہیں کہ تجھ سے کہیں\nدل کی حالت بتانا مشکل ہے", "poet": "Faraz"},
        {"id": 59, "shair": "ایک محبت کافی ہے زندگی بھر رلانے کے لیے", "poet": "Faiz"},
        {"id": 60, "shair": "آج کل یادِ عہدِ رفتہ ہے\nدل نہیں ہے مزارِ رفتہ ہے", "poet": "John"},
        {"id": 61, "shair": "بچھڑا ہے جو اک بار تو ملتا نہیں دیکھا\nاس زخم کو ہم نے کبھی بھرتا نہیں دیکھا", "poet": "Faraz"},
        {"id": 62, "shair": "آئی ہے بے کسی کی شبِ تار دیکھنا\nرویا ہے کون زار و قطار دیکھنا", "poet": "Faiz"},
        {"id": 63, "shair": "نہ جانے کس لیے امید وار بیٹھا ہوں\nاک ایسی راہ پہ جو تیری رہ گزر بھی نہیں", "poet": "Ghalib"},
        {"id": 64, "shair": "کون کہتا ہے کہ موت آئی تو مر جاؤں گا\nمیں تو دریا ہوں سمندر میں اتر جاؤں گا", "poet": "Faraz"},
        {"id": 65, "shair": "شام سے آنکھ میں نمی سی ہے\nآج پھر آپ کی کمی سی ہے", "poet": "Gulzar"},
        {"id": 66, "shair": "تیرے آنے کا انتظار رہا\nعمر بھر خود سے شرمسار رہا", "poet": "John"},
        {"id": 67, "shair": "اک خلش کو حاصلِ عمرِ رواں رہنے دیا\nہم نے تنہائی کو اپنا رازداں رہنے دیا", "poet": "Faraz"},
        {"id": 68, "shair": "غمِ دنیا بھی غمِ یار میں شامل کر لو\nنشہ بڑھتا ہے شرابیں جو دو آتشہ ہوں", "poet": "Faiz"},
        {"id": 69, "shair": "دلِ ویراں میں اترتی ہے یادوں کی بارات\nاک ادھوری سی کہانی اور یہ کالی سی رات", "poet": "Parveen"},
        {"id": 70, "shair": "ہم نے چاہا ہی نہیں کہ تجھے یاد نہ کریں\nپر تیرے پاس تو کوئی بہانہ ہی نہیں تھا", "poet": "Ghalib"},
        {"id": 71, "shair": "اداسیوں کا یہ موسم بدل بھی سکتا تھا\nوہ چاہتا تو مرے ساتھ چل بھی سکتا تھا", "poet": "Faraz"},
        {"id": 72, "shair": "تم آئے ہو نہ شبِ انتظار گزری ہے\nتلاش میں ہے سحر بار بار گزری ہے", "poet": "Faiz"},
        {"id": 73, "shair": "روتے روتے مسکراتا ہوں جب بھی تیرا نام آئے\nکیسا ہے یہ درد کہ جسے ہنسنا بھی نہ آئے", "poet": "John"},
        {"id": 74, "shair": "کوئی امید بر نہیں آتی\nکوئی صورت نظر نہیں آتی", "poet": "Ghalib"},
        {"id": 75, "shair": "بچھڑ کر تجھ سے نہ جی پائیں گے یہ تو پتا تھا\nپر جی رہے ہیں یہی تو سب سے بڑا دکھ ہے", "poet": "Faraz"},
        {"id": 76, "shair": "رات بھر چلتی رہی دل میں یادوں کی لہر\nتیری یادوں سے بھرا ہے مرے اندر کا شہر", "poet": "Nasir Kazmi"},
        {"id": 77, "shair": "دل کے بہلانے کی تدبیر تو ہے\nپر یہ مٹی کی اک تصویر تو ہے", "poet": "Faiz"},
        {"id": 78, "shair": "شکوہِ ظلمتِ شب سے تو کہیں بہتر تھا\nاپنے حصے کی کوئی شمع جلاتے جاتے", "poet": "Faraz"},
        {"id": 79, "shair": "ہم نے تو دل کو ہتیلی پہ رکھا تھا تمہارے لیے\nپر تم نے تو اسے پاؤں تلے مسل دیا", "poet": "John"},
        {"id": 80, "shair": "زندگی تو ہی بتا کیسے کٹے گی یہ راہ\nہر طرف دکھ ہے اور ہر طرف ہے سیاہ", "poet": "Ghalib"},
        {"id": 81, "shair": "کب تک یہ فاصلے ہمیں تڑپاتے رہیں گے\nکب تک ہم یونہی آنسو بہاتے رہیں گے", "poet": "Parveen"},
        {"id": 82, "shair": "اک حسرت تھی کہ کوئی ہمیں بھی چاہے\nپر نصیب میں صرف تنہائی ہی لکھی تھی", "poet": "Faraz"},
        {"id": 83, "shair": "خاموشیوں میں دب گیا ہے شور مرے اندر کا\nجیسے تھم گیا ہو کوئی طوفان سمندر کا", "poet": "Faiz"},
        {"id": 84, "shair": "موت سے بدتر ہے یہ انتظار تیرا\nکاش ہم نے نہ کیا ہوتا اعتبار تیرا", "poet": "John"},
        {"id": 85, "shair": "دل جو ٹوٹا ہے تو پھر جڑ نہ پائے گا کبھی\nیہ مسافر اب لوٹ کر نہ آئے گا کبھی", "poet": "Ghalib"},
        {"id": 86, "shair": "اداسی کا یہ رنگ کتنا گہرا ہے آج\nتیری یاد کا مرے دل پہ پہرا ہے آج", "poet": "Nasir Kazmi"},
        {"id": 87, "shair": "سب کچھ تو مل گیا پر وہ نہ مل سکا\nجس کے لیے یہ سارا جہاں سجا رکھا تھا", "poet": "Faraz"},
        {"id": 88, "shair": "دردِ دل کے واسطے پیدا کیا انسان کو\nورنہ طاعت کے لیے کچھ کم نہ تھے کروبیاں", "poet": "Iqbal"},
        {"id": 89, "shair": "ہم نے ہر دکھ کو گلے سے لگایا ہے میاں\nتب جا کر یہ اداسی کمائی ہے میاں", "poet": "John"},
        {"id": 90, "shair": "وہ بچھڑ گیا تو جیسے وقت تھم گیا ہو\nجیسے سورج بادلوں میں کہیں جم گیا ہو", "poet": "Parveen"},
        {"id": 91, "shair": "تیری یادوں کی بارش میں بھیگ رہا ہوں\nاک ادھورے سے خواب میں جی رہا ہوں", "poet": "Faiz"},
        {"id": 92, "shair": "ہمیں تو اپنوں نے لوٹا غیروں میں کہاں دم تھا\nمیری کشتی وہاں ڈوبی جہاں پانی کم تھا", "poet": "Unknown"},
        {"id": 93, "shair": "دل کے ہر کونے میں تیرا ہی دکھ بسا ہے\nجیسے کوئی پرندہ قفس میں پھنسا ہے", "poet": "Ghalib"},
        {"id": 94, "shair": "بکھرے ہوئے خوابوں کو سمیٹنے کی کوشش میں\nخود کو ہی بکھیر بیٹھے ہم تیری الفت میں", "poet": "Faraz"},
        {"id": 95, "shair": "رات کی تنہائی میں جب بھی رویا ہوں\nتیرے ہی غم کو سینے سے لگا کر سویا ہوں", "poet": "Nasir Kazmi"},
        {"id": 96, "shair": "زندگی سے اب ہمیں کوئی گلہ تو نہیں\nپر جو ہم چاہتے تھے وہ ہمیں ملا تو نہیں", "poet": "John"},
        {"id": 97, "shair": "آنسوؤں کی زبان کوئی نہیں سمجھتا یہاں\nسب کو اپنی پڑی ہے کس کو ہے غمِ جہاں", "poet": "Faiz"},
        {"id": 98, "shair": "تمہارے بعد یہ دنیا بہت اداس لگی\nجیسے ہر ہنسی میں اک پیاس لگی", "poet": "Ghalib"},
        {"id": 99, "shair": "دکھوں کی اس بھیڑ میں میں اکیلا کھڑا ہوں\nتیری یاد کا دامن تھامے ہوؤں ہوں", "poet": "Faraz"},
        {"id": 100, "shair": "مر ہی جاتا یہ دل اگر تیری یاد نہ ہوتی\nاس جینے کی پھر کوئی بنیاد نہ ہوتی", "poet": "John"}
    ],
    "love": [
        {"id": 101, "shair": "عشق نے غالب نکما کر دیا\nورنہ ہم بھی آدمی تھے کام کے", "poet": "Ghalib"},
        {"id": 102, "shair": "کو بہ کو پھیل گئی بات شناسائی کی\nاس نے خوشبو کی طرح میری پذیرائی کی", "poet": "Parveen"},
        {"id": 103, "shair": "سنا ہے لوگ اسے آنکھ بھر کے دیکھتے ہیں\nسو اس کے شہر میں کچھ دن ٹھہر کے دیکھتے ہیں", "poet": "Faraz"},
        {"id": 104, "shair": "شاید مجھے کسی سے محبت نہیں ہوئی\nلیکن یقین سب کو دلاتا رہا ہوں میں", "poet": "John"},
        {"id": 105, "shair": "تیرے آنے کی جب خبر مہکے\nتیری خوشبو سے سارا گھر مہکے", "poet": "Nasir Kazmi"},
        {"id": 106, "shair": "تم سے مل کر ہمیں یقین آیا\nکہ زندگی اتنی بری بھی نہیں", "poet": "Faraz"},
        {"id": 107, "shair": "بات پھولوں کی سنائی جائے\nتیری تصویر دکھائی جائے", "poet": "John"},
        {"id": 108, "shair": "محبت میں نہیں ہے فرق جینے اور مرنے کا\nاسی کو دیکھ کر جیتے ہیں جس کافر پہ دم نکلے", "poet": "Ghalib"},
        {"id": 109, "shair": "ہاتھ لرزتے ہیں جام اٹھاتے ہوئے\nعمر گزری ہے تجھے یاد کرتے ہوئے", "poet": "Nasir Kazmi"},
        {"id": 110, "shair": "مجھ سے پہلی سی محبت مرے محبوب نہ مانگ", "poet": "Faiz"},
        {"id": 111, "shair": "عشق پر زور نہیں ہے یہ وہ آتش غالب\nکہ لگائے نہ لگے اور بجھائے نہ بنے", "poet": "Ghalib"},
        {"id": 112, "shair": "تمہاری ایک نظر ہی تو جینے کا سہارا ہے\nتمہارے بغیر تو یہ سارا جہاں ہی آوارہ ہے", "poet": "Faraz"},
        {"id": 113, "shair": "محبت کی کوئی منزل نہیں ہے\nمحبت موج ہے ساحل نہیں ہے", "poet": "Faiz"},
        {"id": 114, "shair": "تمہارے پاس رہ کر بھی ہم تنہا رہے\nیہ کیسی محبت ہے جو ہم پر سہا رہے", "poet": "John"},
        {"id": 115, "shair": "نگاہوں سے باتیں ہوتی ہیں جب بھی تمہاری\nہوش کھو بیٹھتی ہے یہ عقل ماری ماری", "poet": "Parveen"},
        {"id": 116, "shair": "تم میرے پاس ہوتے ہو گویا\nجب کوئی دوسرا نہیں ہوتا", "poet": "Momin"},
        {"id": 117, "shair": "عشق کو بھی کیا کیا رنگ دکھائے ہم نے\nخود کو جلا کر چراغ روشن کیے ہم نے", "poet": "Faiz"},
        {"id": 118, "shair": "تیری زلفوں کے سائے میں جینا چاہتے ہیں\nمحبت کا یہ جام پینا چاہتے ہیں", "poet": "Ghalib"},
        {"id": 119, "shair": "تمہیں دیکھ کر دل کو قرار آتا ہے\nجیسے خزاں میں بہار کا اعتبار آتا ہے", "poet": "Faraz"},
        {"id": 120, "shair": "محبت تو اک دریا ہے جس میں ڈوبنا ہے\nتیرا ساتھ مل جائے تو بس یہی جینا ہے", "poet": "John"},
        {"id": 121, "shair": "تیری آنکھوں کے سمندر میں ڈوب جانے دو\nمحبت کے اس جنون کو حد سے گزر جانے دو", "poet": "Parveen"},
        {"id": 122, "shair": "ہم نے تو دل ہار دیا پہلی نظر میں\nبس تم ہی رہ گئے ہو ہماری ہر فکر میں", "poet": "Nasir Kazmi"},
        {"id": 123, "shair": "عشق نے کیا حال کر دیا ہمارا\nنہ جینے دیا اور نہ مرنے کا سہارا", "poet": "Faiz"},
        {"id": 124, "shair": "تم جو ملو تو یہ دنیا بدل جائے گی\nمحبت کی نئی شمع جل جائے گی", "poet": "Ghalib"},
        {"id": 125, "shair": "تیرے پیار میں ہم فنا ہو گئے\nدنیا سے بچھڑ کر تجھ میں کھو گئے", "poet": "Faraz"},
        {"id": 126, "shair": "محبت تو صرف تم سے ہے اور رہے گی\nیہ کہانی رہتی دنیا تک کہی جائے گی", "poet": "John"},
        {"id": 127, "shair": "تیری مسکراہٹ ہی تو میری بندگی ہے\nتیرے ہی دم سے تو یہ زندگی زندگی ہے", "poet": "Nasir Kazmi"},
        {"id": 128, "shair": "عشق کا یہ روگ اب جانے والا نہیں\nتیرے سوا کوئی دل میں آنے والا نہیں", "poet": "Parveen"},
        {"id": 129, "shair": "ہم نے تو تم کو چاہا حد سے زیادہ\nاب تم ہی بتاؤ کیا ہے تمہارا ارادہ", "poet": "Ghalib"},
        {"id": 130, "shair": "محبت کی اس آگ میں ہم جل رہے ہیں\nتیرے ہی خیالوں میں اب پل رہے ہیں", "poet": "Faiz"},
        {"id": 131, "shair": "تیری ایک جھلک کے لیے ترستے ہیں\nجیسے بادل زمین کے لیے برستے ہیں", "poet": "Faraz"},
        {"id": 132, "shair": "عشق تو اک خواب ہے جو ہم دیکھ رہے ہیں\nتیرے ہی سائے میں اب ہم جی رہے ہیں", "poet": "John"},
        {"id": 133, "shair": "تمہارے بنا جینا تو اک سزا ہے میاں\nمحبت تو بس تمہاری ادا ہے میاں", "poet": "Nasir Kazmi"},
        {"id": 134, "shair": "تیری خوشبو سے مہکتا ہے میرا جہاں\nتم ہی تو ہو میرے پیار کا آسماں", "poet": "Parveen"},
        {"id": 135, "shair": "عشق میں سب کچھ لٹا دیا ہم نے\nتمہیں پا کر خود کو بھلا دیا ہم نے", "poet": "Ghalib"},
        {"id": 136, "shair": "محبت کا یہ سفر کتنا حسین ہے\nتیرے ملنے کا ہمیں اب یقین ہے", "poet": "Faiz"},
        {"id": 137, "shair": "تیری یادوں میں کٹ جاتی ہے ہر رات\nمحبت کی ہوتی ہے بس تم سے ہی بات", "poet": "Faraz"},
        {"id": 138, "shair": "عشق نے تو ہمیں دیوانہ بنا دیا\nاپنے ہی شہر میں بیگانہ بنا دیا", "poet": "John"},
        {"id": 139, "shair": "تمہیں چاہنا ہی تو میرا مقصد ہے\nمحبت کا یہ رشتہ کتنا مقدس ہے", "poet": "Nasir Kazmi"},
        {"id": 140, "shair": "تیری آنکھوں میں ہی تو بسا ہے میرا پیار\nتم ہی تو ہو میرے دل کا قرار", "poet": "Parveen"},
        {"id": 141, "shair": "عشق کی اس منزل پہ ہم آ گئے\nتیرے ہی خیالوں میں ہم چھا گئے", "poet": "Ghalib"},
        {"id": 142, "shair": "محبت تو بس نام ہے تمہارا\nتم ہی تو ہو جینے کا اک سہارا", "poet": "Faiz"},
        {"id": 143, "shair": "تیری ایک پکار پہ چلے آئیں گے ہم\nمحبت کی قسم کبھی نہ جائیں گے ہم", "poet": "Faraz"},
        {"id": 144, "shair": "عشق نے تو ہمیں جینا سکھا دیا\nورنہ ہم تو مردہ لاش تھے میاں", "poet": "John"},
        {"id": 145, "shair": "تمہارے بنا یہ دنیا ادھوری ہے\nمحبت تو جینے کے لیے ضروری ہے", "poet": "Nasir Kazmi"},
        {"id": 146, "shair": "تیری سانسوں کی گرمی میں جینا ہے\nمحبت کا یہ امرت ہمیں پینا ہے", "poet": "Parveen"},
        {"id": 147, "shair": "عشق نے تو ہمیں کیا سے کیا کر دیا\nدنیا کی نظروں سے جدا کر دیا", "poet": "Ghalib"},
        {"id": 148, "shair": "محبت کی اس راہ میں ہم چل پڑے\nتیرے ہی دم سے اب ہم سنبھل پڑے", "poet": "Faiz"},
        {"id": 149, "shair": "تیری یاد میں ہی تو سکون ہے میاں\nمحبت تو بس اک جنون ہے میاں", "poet": "Faraz"},
        {"id": 150, "shair": "عشق کی یہ کہانی کبھی ختم نہ ہوگی\nمحبت تو بس تم سے ہی رہے گی", "poet": "John"}
    ],
    "anger": [
        {"id": 151, "shair": "اب نہیں کوئی بات خطرے کی\nاب سبھی کو سبھی سے خطرہ ہے", "poet": "John"},
        {"id": 152, "shair": "بس کہ دشوار ہے ہر کام کا آساں ہونا\nآدمی کو بھی میسر نہیں انساں ہونا", "poet": "Ghalib"},
        {"id": 153, "shair": "غیرتِ عشق ہے کوئی تماشہ نہیں\nہم نے خود کو گوا کر تجھے پایا ہے", "poet": "Faiz"},
        {"id": 154, "shair": "میں وہ دریا ہوں کہ ہر بوند کو ترسا ہوں\nاب کے سیلاب بن کر اتروں گا", "poet": "Faiz"},
        {"id": 155, "shair": "دشمنوں نے تو دشمنی کی ہے\nدوستوں نے بھی کیا کمی کی ہے", "poet": "Faraz"},
        {"id": 156, "shair": "جو گزرے تھے ہم پہ وہ کڑے وقت تھے\nاب جو گزر رہے ہیں وہ تماشے ہیں", "poet": "John"},
        {"id": 157, "shair": "شکوہِ ظلمتِ شب سے تو کہیں بہتر تھا\nاپنے حصے کی کوئی شمع جلاتے جاتے", "poet": "Faraz"},
        {"id": 158, "shair": "تیری جفاؤں سے شکوہ تو ہے مگر اے دوست\nغمِ زمانہ نے فرصت ہی نہ دی ہمیں", "poet": "Faraz"},
        {"id": 159, "shair": "ہم نے تارے گنے ہیں راتوں کو\nپھر بھی سورج نہیں مِلا ہم کو", "poet": "Faiz"},
        {"id": 160, "shair": "لگی ہے آگ تو اب اس کو بجھائے کون\nجب اپنے ہی گھر کے در و دیوار جل اٹھے", "poet": "John"},
        {"id": 161, "shair": "تیرا غرور توڑیں گے اک دن ضرور ہم\nبس ذرا اپنے لہجے کو بدلنے دو میاں", "poet": "Unknown"},
        {"id": 162, "shair": "ظلمت کو ضیا صرصر کو صبا کیا لکھنا\nدیوار کو در اور شب کو سحر کیا لکھنا", "poet": "Habib Jalib"},
        {"id": 163, "shair": "ہم نے تو خاک اڑائی ہے تمام عمر میاں\nتمہارے تخت و تاج کو آگ لگا دیں گے ہم", "poet": "John"},
        {"id": 164, "shair": "اب کے اگر بچھڑے تو سزا موت ہی ہوگی\nمحبت کا کھیل اب بہت ہو چکا میاں", "poet": "Unknown"},
        {"id": 165, "shair": "خونِ دل دے کر پالا تھا جس گلستاں کو ہم نے\nآج اس کے باغبان ہی اس کے دشمن بن گئے", "poet": "Ghalib"},
        {"id": 166, "shair": "تیری بے وفائی کا بدلہ تو ہم ضرور لیں گے\nتیری دنیا کو اک دن ویران کر دیں گے ہم", "poet": "Faraz"},
        {"id": 167, "shair": "ہم کو مٹانے کی کوشش میں تم مٹ جاؤ گے\nہم تو وہ آگ ہیں جو بجھائے نہ بجھے گی", "poet": "Faiz"},
        {"id": 168, "shair": "اب کے لڑائی آر کی ہوگی یا پار کی ہوگی\nخاموشی کی اب کوئی گنجائش نہیں میاں", "poet": "John"},
        {"id": 169, "shair": "تیرا ظلم سہا ہے اب تک خاموشی کے ساتھ\nاب جو بولے تو قیامت برپا کر دیں گے ہم", "poet": "Habib Jalib"},
        {"id": 170, "shair": "بہت ہوا پیار اب نفرت کی باری ہے\nتیری بربادی کی اب ہم نے تیاری ہے", "poet": "Unknown"},
        {"id": 171, "shair": "ہم نے ہر بار معاف کیا تیری ہر خطا کو\nپر اب کے تو حد ہی پار کر دی تو نے میاں", "poet": "John"},
        {"id": 172, "shair": "تیرا لہجہ بتا رہا ہے کہ تو بدل گیا ہے\nاب ہم بھی بدل گئے تو گلہ نہ کرنا میاں", "poet": "Faraz"},
        {"id": 173, "shair": "آگ بھڑک رہی ہے مرے سینے میں اب تو\nتیری یادوں کو جلا کر راکھ کر دیں گے ہم", "poet": "Nasir Kazmi"},
        {"id": 174, "shair": "ظلم سہنا بھی تو اک گناہ ہے میاں\nاب جو اٹھے تو ظالم کو مٹا دیں گے ہم", "poet": "Faiz"},
        {"id": 175, "shair": "تیری باتوں میں اب وہ اثر نہیں رہا\nمحبت کا اب کوئی گھر نہیں رہا", "poet": "Ghalib"},
        {"id": 176, "shair": "اب کے بستی جلائی ہے تو تماشہ بھی دیکھیں گے\nخاموش رہ کر اب ہم نہیں بیٹھیں گے میاں", "poet": "John"},
        {"id": 177, "shair": "تیرا غرور ہی تیری بربادی کا سبب بنے گا\nاک دن تو بھی مرے قدموں میں گرے گا میاں", "poet": "Faraz"},
        {"id": 178, "shair": "محبت میں ملا تھا دھوکہ اب غصہ ہے مرے پاس\nتیری ہر یاد کو مٹا دینے کا حوصلہ ہے مرے پاس", "poet": "Unknown"},
        {"id": 179, "shair": "ہم نے تو وفائیں کیں تم نے جفاؤں کی حد کر دی\nاب ہم بھی جفاکار بن گئے تو روؤ گے میاں", "poet": "John"},
        {"id": 180, "shair": "خاموشی کو مری بزدلی نہ سمجھنا میاں\nطوفان سے پہلے کا سناٹا ہے یہ یاد رکھنا", "poet": "Unknown"},
        {"id": 181, "shair": "تیرا تکبر تجھے ہی لے ڈوبے گا اک دن\nہم تو وہ موج ہیں جو کنارے توڑ دیں گے", "poet": "Faiz"},
        {"id": 182, "shair": "اب کے اگر ملے تو نظریں نہ ملانا میاں\nغصہ بہت ہے دل میں کہیں قیامت نہ آ جائے", "poet": "Faraz"},
        {"id": 183, "shair": "بہت جی لیے ہم تیرے اشاروں پہ میاں\nاب اپنی مرضی سے جینے کی باری ہے ہماری", "poet": "John"},
        {"id": 184, "shair": "تیرا نام مٹا دیں گے اپنی زندگی سے ہم\nتیری یادوں کو دفن کر دیں گے مٹی میں ہم", "poet": "Nasir Kazmi"},
        {"id": 185, "shair": "ظلم کی انتہا ہو گئی اب صبر نہیں ہوتا\nمٹ جائے گا ظالم اب یہ فجر نہیں ہوتا", "poet": "Habib Jalib"},
        {"id": 186, "shair": "تیری بے رخی نے ہمیں غصہ دلا دیا ہے\nمحبت کے پھول کو آگ لگا دیا ہے", "poet": "Ghalib"},
        {"id": 187, "shair": "اب کے اگر ٹکرائے تو پچھتاؤ گے بہت\nہم وہ چٹان ہیں جو کسی سے ٹوٹتی نہیں", "poet": "Unknown"},
        {"id": 188, "shair": "بہت ہوا مذاق اب سچائی کا سامنا کرو\nتیری بربادی کا اب ہم نظارہ کریں گے", "poet": "John"},
        {"id": 189, "shair": "ہم نے پیار کیا تھا تو حد کر دی تھی میاں\nاب نفرت کریں گے تو توبہ کرو گے میاں", "poet": "Faraz"},
        {"id": 190, "shair": "تیری صورت سے اب چِڑھ ہونے لگی ہے\nمحبت کی ہر بات اب زہر ہونے لگی ہے", "poet": "Unknown"},
        {"id": 191, "shair": "ظالم کے سامنے سر جھکانا نہیں سیکھا\nہم نے تو صرف سر کٹانا سیکھا ہے", "poet": "Faiz"},
        {"id": 192, "shair": "تیری ہر چال اب ہم سمجھ چکے ہیں میاں\nاب کے وار کیا تو بچ نہ پاؤ گے میاں", "poet": "John"},
        {"id": 193, "shair": "بہت جی لیے غلام بن کر اب آزادی چاہیے\nتیرے ظلم سے اب ہمیں نجات چاہیے میاں", "poet": "Habib Jalib"},
        {"id": 194, "shair": "تیری یادوں کی راکھ اڑا دیں گے ہم\nتیرا ہر نشان مٹا دیں گے ہم میاں", "poet": "Nasir Kazmi"},
        {"id": 195, "shair": "محبت کا اب کوئی نام نہ لے مرے سامنے\nغصہ بہت ہے کہیں قیامت نہ آ جائے میاں", "poet": "Faraz"},
        {"id": 196, "shair": "تیرا تکبر تجھے کھا جائے گا اک دن\nہم تو وہ طوفان ہیں جو سب بہا لے جائے گا", "poet": "Ghalib"},
        {"id": 197, "shair": "اب کے جو اٹھے تو بیٹھنا نہ سیکھیں گے\nظلم کا سر کچل کر ہی دم لیں گے ہم", "poet": "Faiz"},
        {"id": 198, "shair": "تیری بے وفائی نے ہمیں پتھر بنا دیا\nاب روؤ یا تڑپو ہمیں فرق نہیں پڑتا میاں", "poet": "John"},
        {"id": 199, "shair": "بہت ہوا صبر اب انتقام کی باری ہے\nتیری دنیا کو آگ لگانے کی تیاری ہے", "poet": "Unknown"},
        {"id": 200, "shair": "خاموش رہنا اب ممکن نہیں رہا میاں\nتیرا ظلم اب حد سے گزر گیا ہے میاں", "poet": "Habib Jalib"}
    ],
    "fear": [
        {"id": 201, "shair": "پاؤں پھیلائے تو دیوار سے سر لگتا ہے\nاب مجھے اپنے ہی گھر میں ڈر لگتا ہے", "poet": "John"},
        {"id": 202, "shair": "عجیب خوف کا موسم ہے آج کل فراز\nکہ لوگ موت سے پہلے ہی مر رہے ہیں", "poet": "Faraz"},
        {"id": 203, "shair": "شہرِ خالی میں ڈر نہیں لگتا\nآدمی ہو تو ڈر بھی لگتا ہے", "poet": "Munir Niazi"},
        {"id": 204, "shair": "وہ خوفِ بلا ہو یا کوئی دہشتِ ناگہاں\nدل تو بہر حال مزارِ آرزو ہے", "poet": "John"},
        {"id": 205, "shair": "اندھیری رات ہے سنسان ہے ڈر لگتا ہے\nخواب ہی خواب ہیں اور ان سے ڈر لگتا ہے", "poet": "Nasir Kazmi"},
        {"id": 206, "shair": "اب کس سے کہیں اے دلِ ناداں کہ ترے پاس\nہر لمحہ یہاں موت کا سایہ ہے کھڑا", "poet": "Ghalib"},
        {"id": 207, "shair": "تاریکیوں میں کھو گیا شہرِ مراد بھی\nاب ہر طرف سکوت ہے اور خوف بھی", "poet": "Faiz"},
        {"id": 208, "shair": "کچھ ڈر بھی تھا کچھ تھکاوٹ بھی تھی\nسفرِ حیات میں ایسی اک آفت بھی تھی", "poet": "Faraz"},
        {"id": 209, "shair": "ڈر ہے کہ مٹ نہ جائے کہیں یادِ رفتہ بھی\nدنیا میں اب وہ پیار کے قابل نہیں رہا", "poet": "Iqbal"},
        {"id": 210, "shair": "راستہ بھول نہ جاؤں کہیں تنہائی میں\nخوف آتا ہے مجھے اپنی ہی پرچھائی میں", "poet": "John"},
        {"id": 211, "shair": "ڈر لگتا ہے جب بھی وہ یاد آتا ہے\nجیسے کوئی سایہ میرے پیچھے آتا ہے", "poet": "Nasir Kazmi"},
        {"id": 212, "shair": "خوفِ خدا ہو تو بندہ سیدھی راہ چلتا ہے\nورنہ تو انسان ہر قدم پہ پھسلتا ہے", "poet": "Iqbal"},
        {"id": 213, "shair": "تیرے بغیر جینے سے ڈر لگتا ہے میاں\nاندھیری راہوں میں کھو جانے سے ڈر لگتا ہے", "poet": "Faraz"},
        {"id": 214, "shair": "اک انجانا سا خوف بسا ہے مرے دل میں\nجیسے کوئی چھپا ہو مرے ہی محفل میں", "poet": "Parveen"},
        {"id": 215, "shair": "ڈر ہے کہ کہیں وہ مجھے بھول نہ جائے\nمحبت کا یہ رشتہ کہیں ٹوٹ نہ جائے", "poet": "John"},
        {"id": 216, "shair": "خوف کی اس بستی میں اب کون رہے گا\nہر طرف دکھ ہے اب کون ہنسے گا میاں", "poet": "Munir Niazi"},
        {"id": 217, "shair": "ڈر لگتا ہے کہ کہیں قیامت نہ آ جائے\nتیری یادوں کا طوفان سب بہا نہ لے جائے", "poet": "Ghalib"},
        {"id": 218, "shair": "تنہائی کا خوف اب مار دے گا ہمیں\nتیرے بغیر یہ دنیا اب اجاڑ دے گی ہمیں", "poet": "Faiz"},
        {"id": 219, "shair": "ڈر ہے کہ مرنے کے بعد بھی سکون نہ ملے\nمحبت میں ہمیں کہیں جنون نہ ملے میاں", "poet": "Faraz"},
        {"id": 220, "shair": "رات کی خاموشی میں اک ڈر سا لگتا ہے\nجیسے کوئی مرا گلہ گھونٹتا لگتا ہے", "poet": "Nasir Kazmi"},
        {"id": 221, "shair": "ڈر لگتا ہے کہ کہیں میں خود کو نہ کھو دوں\nتیری محبت میں کہیں پاگل نہ ہو جاؤں میاں", "poet": "Jaun"},
        {"id": 222, "shair": "خوفِ زمانہ سے اب ہم تھک گئے ہیں میاں\nگوشہ نشینی میں اب ہم آ گئے ہیں میاں", "poet": "Ghalib"},
        {"id": 223, "shair": "ڈر ہے کہ کہیں سچائی کڑوی نہ لگے\nمحبت کی یہ بات اب زہر نہ لگے میاں", "poet": "Faraz"},
        {"id": 224, "shair": "اک خوف سا ہے کہ کہیں تو بچھڑ نہ جائے\nمرے خوابوں کی دنیا کہیں بکھر نہ جائے", "poet": "Parveen"},
        {"id": 225, "shair": "خوف کی اس دیوار کو کیسے گرائیں ہم\nتیرے بنا یہ زندگی کیسے بتائیں ہم میاں", "poet": "Faiz"},
        {"id": 226, "shair": "ڈر لگتا ہے جب بھی وہ مسکراتا ہے\nجیسے کوئی نیا فریب وہ سجاتا ہے میاں", "poet": "John"},
        {"id": 227, "shair": "خوفِ خدا کے سوا اب کوئی ڈر نہیں رہا\nدنیا کا اب کوئی دل میں گھر نہیں رہا میاں", "poet": "Iqbal"},
        {"id": 228, "shair": "ڈر ہے کہ کہیں میں تنہا نہ رہ جاؤں\nدکھوں کے اس سمندر میں کہیں بہ نہ جاؤں", "poet": "Nasir Kazmi"},
        {"id": 229, "shair": "ڈر لگتا ہے کہ کہیں محبت ختم نہ ہو جائے\nتیری یادوں کی یہ شمع کہیں بجھ نہ جائے میاں", "poet": "Faraz"},
        {"id": 230, "shair": "اک انجانا سا خوف مرے پیچھے لگا ہے\nجیسے کوئی سایہ مرے دامن سے بندھا ہے", "poet": "Ghalib"},
        {"id": 231, "shair": "ڈر ہے کہ کہیں میں پاگل نہ ہو جاؤں\nتیری الفت میں کہیں رسوا نہ ہو جاؤں میاں", "poet": "John"},
        {"id": 232, "shair": "خوفِ حشر سے اب ہم لرزتے ہیں میاں\nاپنے گناہوں کی اب ہم توبہ کرتے ہیں میاں", "poet": "Iqbal"},
        {"id": 233, "shair": "ڈر لگتا ہے کہ کہیں تو مجھے چھوڑ نہ دے\nمحبت کا یہ نازک رشتہ کہیں توڑ نہ دے", "poet": "Parveen"},
        {"id": 234, "shair": "خوف کی اس رات میں اب کون چلے گا\nتیرے بغیر اب مرا ساتھ کون دے گا میاں", "poet": "Nasir Kazmi"},
        {"id": 235, "shair": "ڈر ہے کہ کہیں میں سچ نہ بول دوں میاں\nتیری بے وفائی کا راز نہ کھول دوں میاں", "poet": "Faraz"},
        {"id": 236, "shair": "ڈر لگتا ہے کہ کہیں وہ لوٹ کر نہ آئے\nمرے زخموں کو پھر سے وہ تازہ نہ کر جائے میاں", "poet": "John"},
        {"id": 237, "shair": "خوفِ تنہائی سے اب ہم ڈرنے لگے ہیں\nاندھیری راتوں میں اب ہم رونے لگے ہیں میاں", "poet": "Ghalib"},
        {"id": 238, "shair": "ڈر ہے کہ کہیں میں تجھے پا کر کھو نہ دوں\nمحبت کے اس جنون میں کہیں فنا نہ ہو جاؤں", "poet": "Faiz"},
        {"id": 239, "shair": "خوف کی اس بستی میں اب کوئی نہیں رہا\nہر شخص اب اپنے ہی غم میں گم ہے رہا میاں", "poet": "Munir Niazi"},
        {"id": 240, "shair": "ڈر لگتا ہے کہ کہیں موت آ نہ جائے\nتیری یادوں کا یہ سلسلہ کہیں رک نہ جائے میاں", "poet": "Nasir Kazmi"},
        {"id": 241, "shair": "ڈر ہے کہ کہیں میں خود سے ہی نہ ڈر جاؤں\nتیری محبت میں کہیں حد سے نہ گزر جاؤں میاں", "poet": "John"},
        {"id": 242, "shair": "خوفِ الٰہی کے سوا اب کوئی خوف نہیں رہا\nدنیا کا اب کوئی دل میں جھرجھری نہیں رہا میاں", "poet": "Iqbal"},
        {"id": 243, "shair": "ڈر لگتا ہے کہ کہیں تو بدل نہ جائے\nمحبت کا یہ موسم کہیں ڈھل نہ جائے میاں", "poet": "Faraz"},
        {"id": 244, "shair": "اک انجانا سا خوف بسا ہے فضاؤں میں\nجیسے کوئی زہر گھلا ہو ان ہواؤں میں میاں", "poet": "Parveen"},
        {"id": 245, "shair": "ڈر ہے کہ کہیں وہ مجھے پہچان نہ لے\nمحبت کا یہ دکھ میرا جان نہ لے میاں", "poet": "John"},
        {"id": 246, "shair": "خوف کی اس دیوار کے پیچھے کیا ہے میاں\nکیا کوئی نیا دکھ مرا منتظر ہے میاں", "poet": "Ghalib"},
        {"id": 247, "shair": "ڈر لگتا ہے کہ کہیں میں رو نہ دوں میاں\nتیری یادوں کے بوجھ تلے کہیں دب نہ جاؤں میاں", "poet": "Faiz"},
        {"id": 248, "shair": "خوفِ حیات سے اب ہم تھک گئے ہیں میاں\nموت کی آغوش میں اب ہم جانا چاہتے ہیں میاں", "poet": "Nasir Kazmi"},
        {"id": 249, "shair": "ڈر ہے کہ کہیں میں دوبارہ پیار نہ کر لوں\nاپنے ہی دل کو کہیں پھر سے بیمار نہ کر لوں میاں", "poet": "Faraz"},
        {"id": 250, "shair": "ڈر لگتا ہے کہ کہیں میں سچ میں تنہا نہ ہو جاؤں\nتیرے جانے کے بعد کہیں میں خود کو نہ بھول جاؤں", "poet": "John"}
    ]
}

st.markdown("<h1 style='text-align: center; color: #4834d4;'>📜 Emotion Poetry Bot</h1>", unsafe_allow_html=True)

tab1, tab2 = st.tabs(["🔍 Explore Poetry", "❤️ Saved Poetry"])

with tab1:
    # st.markdown('<div class="main-card">', unsafe_allow_html=True)
    user_mood = st.text_input("How are you feeling?", placeholder="Type here...")
    
    col1, col2 = st.columns([1, 1])
    with col1:
        show_options = st.checkbox("Select Poet?")
    with col2:
        selected_poet = st.selectbox("Choose:", ["All", "Ghalib", "John", "Faraz", "Faiz", "Parveen"], label_visibility="collapsed") if show_options else "All"

    if st.button("Generate Poetry ✨"):
        if user_mood.strip():
            with st.spinner("Analyzing Emotions..."):
                eng_text = translator.translate(user_mood)
                emo = emo_model(eng_text)[0]['label']
                options = poetry_db.get(emo, poetry_db["sadness"])
                
                if selected_poet != "All":
                    options = [p for p in options if p['poet'] == selected_poet]
                
                if options:
                    shair_data = random.choice(options)
                    st.session_state.last_shair = shair_data # Save to state immediately
                    if emo == "joy": st.balloons()
                else:
                    st.warning("No poetry found for this poet.")
        else:
            st.error("Please enter your mood first!")

    # Display the last generated poetry (keeps it visible after rerun)
    if st.session_state.last_shair:
        shair = st.session_state.last_shair
        st.markdown(f"""<div class="poetry-box">
            <div class="shair-text">{shair['shair']}</div>
            <div class="poet-name">— {shair['poet']}</div>
        </div>""", unsafe_allow_html=True)

        # Save Button logic inside the display block
        if st.button("Save to Favorites ❤️"):
            if shair not in st.session_state.saved_poetry:
                st.session_state.saved_poetry.append(shair)
                st.success("Added to your collection!")
            else:
                st.info("Already in your collection.")
    
    st.markdown('</div>', unsafe_allow_html=True)

with tab2:
    if not st.session_state.saved_poetry:
        st.info("Your collection is empty. Go to Explore and save some poetry!")
    else:
        for item in st.session_state.saved_poetry:
            st.markdown(f"""<div class="poetry-box" style="border-right: 5px solid #a29bfe;">
                <p class="shair-text" style="font-size:1.2em;">{item['shair']}</p>
                <p class="poet-name" style="font-size:1em;">— {item['poet']}</p>
            </div>""", unsafe_allow_html=True)
        
        if st.button("Clear All Saved"):
            st.session_state.saved_poetry = []
            st.rerun()
